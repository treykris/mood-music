!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){"use strict";var r=n(2),o=n(11),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function l(e){return null!==e&&"object"==typeof e}function i(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:i,isStream:function(e){return l(e)&&i(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),a=s.join("&")}if(a){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(17),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,i={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?l=n(6):"undefined"!=typeof XMLHttpRequest&&(l=n(6)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};i.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){i.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){i.headers[e]=r.merge(a)})),e.exports=i}).call(this,n(16))},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(3),s=n(20),l=n(21),i=n(7);e.exports=function(e){return new Promise((function(t,c){var d=e.data,u=e.headers;r.isFormData(d)&&delete u["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",f=e.auth.password||"";u.Authorization="Basic "+btoa(p+":"+f)}if(m.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m.onreadystatechange=function(){if(m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?s(m.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m};o(t,c,r),m=null}},m.onabort=function(){m&&(c(i("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){c(i("Network Error",e,null,m)),m=null},m.ontimeout=function(){c(i("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var g=n(22),h=(e.withCredentials||l(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;h&&(u[e.xsrfHeaderName]=h)}if("setRequestHeader"in m&&r.forEach(u,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete u[t]:m.setRequestHeader(t,e)})),e.withCredentials&&(m.withCredentials=!0),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){m&&(m.abort(),c(e),m=null)})),void 0===d&&(d=null),m.send(d)}))}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t,n,o,a){var s=new Error(e);return r(s,t,n,o,a)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(12),s=n(8);function l(e){var t=new a(e),n=o(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var i=l(n(5));i.Axios=a,i.create=function(e){return l(s(i.defaults,e))},i.Cancel=n(9),i.CancelToken=n(25),i.isCancel=n(4),i.all=function(e){return Promise.all(e)},i.spread=n(26),e.exports=i,e.exports.default=i},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(13),s=n(14),l=n(8);function i(e){this.defaults=e,this.interceptors={request:new a,response:new a}}i.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},i.prototype.getUri=function(e){return e=l(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){i.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){i.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=i},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(15),a=n(4),s=n(5),l=n(23),i=n(24);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!l(e.url)&&(e.url=i(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var i,c=[],d=!1,u=-1;function m(){d&&i&&(d=!1,i.length?c=i.concat(c):u=-1,c.length&&p())}function p(){if(!d){var e=l(m);d=!0;for(var t=c.length;t;){for(i=c,c=[];++u<t;)i&&i[u].run();u=-1,t=c.length}i=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||l(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,s={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,a,s){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),r.isString(o)&&l.push("path="+o),r.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(9);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r);const a=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("access_token");var s=o.a.create({baseURL:"https://api.spotify.com/v1/",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});let l="";var i=(e,t)=>s.post(`users/${l}/playlists/${e}/tracks`,t);var c=e=>s.get(`playlists/${e}/tracks`);function d(e,t){const n=document.createElement(e);if(void 0===t)return n;for(let e in t)"textContent"===e&&(n.textContent=t[e]),"object"==typeof t[e]?n.setAttribute(e,t[e].join(" ")):n.setAttribute(e,t[e]);return n}function u(e){const t=d("div",{class:"track"}),n=d("img",{alt:`Artwork for the song "${e.song_title}", from ${e.artist}`,class:"track__img",src:e.album_img.url}),r=d("h1",{class:"track__name",textContent:e.song_title}),o=d("h2",{class:"track__artist",textContent:e.artist}),a=d("div",{class:["track__pl-add","cr-pl__btn"],"data-track-uri":e.uri}),s=document.querySelector(".tracks"),l=d("div",{class:"track__progress-bar"}),c=d("audio",{class:"track__link",src:e.preview_url}),u=d("div",{class:"track__media"});u.innerHTML='<svg class="media-controls" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><g fill="none" fill-rule="evenodd"><path class="media-controls__pause inactive-dash-pause" stroke="#3F3E3E" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M48,25 L48,71.8053097 C45.1666667,73.6017699 42.3333333,74.5 39.5,74.5 C36.6666667,74.5 33.8333333,73.6017699 31,71.8053097"/><path class="media-controls__play inactive-dash" stroke-linecap="round" stroke="#3F3E3E" stroke-width="5" d="M72.0763886,68.3352333 L62.1474475,68.3352333 L27.2723011,68.3352333 C25.0631621,68.3352333 23.2723011,66.5443723 23.2723011,64.3352333 C23.2723011,63.4859068 23.542644,62.6586256 24.0441798,61.9731933 L46.4462236,31.3570669 C47.7507422,29.5742247 50.2535427,29.1864669 52.0363849,30.4909855 C52.3678287,30.7335054 52.6599463,31.025623 52.9024662,31.3570669 L75.3045099,61.9731933 C76.6090286,63.7560355 76.2212708,66.258836 74.4384286,67.5633546 C73.7529963,68.0648904 72.9257152,68.3352333 72.0763886,68.3352333 L68.7548694,68.3352333" transform="rotate(90 49.674 49.027)"/></g></svg>';const p=d("i",{class:["fas","fa-volume-up"]}),g=d("div",{class:"track__volume-container"}),h=d("input",{type:"range",min:"1",max:"100",value:"60",class:"track__volume-slider"});g.appendChild(p),g.appendChild(h),s.appendChild(t),t.appendChild(n),n.appendChild(c),t.appendChild(l),t.appendChild(u),t.appendChild(g),t.appendChild(r),t.appendChild(o),t.appendChild(a),a.innerHTML='<svg class="track__svg-add-btn" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100"><g fill="none" fill-rule="evenodd"><circle cx="50" cy="50" r="50" fill="#469B6E"/><g fill="#FFF" transform="translate(25.926 25.926)"><rect width="11.111" height="48.148" x="18.519" rx="5" transform="rotate(-90 24.074 24.074)"/><rect width="11.111" height="48.148" x="18.519" rx="5"/></g></g></svg>',q.scrollCount=0,a.addEventListener("click",e=>{const t=e.target.getAttribute("data-track-uri"),n=document.querySelector(".modal");if(document.getElementById("cr-pl-tab").checked=!0,0===q.totalPlaylists.length){const e=t;q.songQueue.push(e),n.classList.toggle("modal--show")}else if(1===q.totalPlaylists.length){q.currentChosenPlaylist.name=q.totalPlaylists[0].name,q.currentChosenPlaylist.id=q.totalPlaylists[0].id;const e={uris:[t]};i(q.currentChosenPlaylist.id,e).then(()=>{m(q.currentChosenPlaylist.name,q.currentChosenPlaylist.id)}).catch(e=>{console.log(e)})}else{const e={uris:[t]};i(q.currentChosenPlaylist.id,e).then(()=>{m(q.currentChosenPlaylist.name,q.currentChosenPlaylist.id)}).catch(e=>{console.log(e)})}}),function(e,t){e.addEventListener("playing",n=>{f(n.target.duration,e,t)})}(c,l)}function m(e,t){q.songQueue=[],c(t).then(t=>{const n=t.data;$(e),n.items.forEach(e=>{R(e)}),O(e,"song")}).catch(e=>{console.log(e)})}function p(e){(e.classList.contains("track__img")||e.classList.contains("track__media"))&&function(e){const t=e.parentNode,n=t.querySelector("audio");(function(e){const t=e.querySelector(".track__media").firstChild,n=t.firstChild,r=n.lastChild,o=n.firstElementChild;r.classList.remove("inactive-dash"),o.classList.remove("inactive-dash-pause"),r.classList.toggle("play-ani"),o.classList.toggle("pause-ani"),t.classList.toggle("media-controls-toggle")})(t),function(e){e.paused?e.play():e.pause()}(n)}(e)}function f(e,t,n){const r=10/e,o=Math.min(r*t.currentTime*10,100);n.style.width=`${o}%`,function(e,t,n,r){n<100&&setTimeout((function(){f(e,t,r)}),100);if(100==n){if(r.classList.contains("track__progress-bar")){let e=M(r.parentNode,"track__media"),t=M(e,"media-controls"),n=M(t,"media-controls").firstChild,o=n.lastChild,a=n.firstElementChild;t.classList.toggle("media-controls-toggle"),o.classList.toggle("play-ani"),a.classList.toggle("pause-ani")}if(r.classList.contains("playlist-track__progress-bar")){let e=M(r.parentNode.parentNode,"playlist-track__media"),t=M(e,"media-controls"),n=M(t,"media-controls").firstChild,o=n.lastChild,a=n.firstElementChild;o.classList.toggle("play-ani"),a.classList.toggle("pause-ani")}}}(e,t,o,n)}var g=()=>s.get("/me/playlists");function h(e){for(let t=0;t<q.totalPlaylists.length;t++)if(q.totalPlaylists[t].name===e)return t;return-1}function y(e,t){const n=document.querySelector(".playlist-list"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("h4"),s=document.createElement("span"),l=document.querySelector(".playlist-list__playlist--show"),i=document.createElement("span");i.innerHTML='<i class="fas fa-chevron-right no-animation"></i>',a.textContent=e,r.classList.add("playlist-list__playlist"),a.classList.add("playlist-list__name"),i.classList.add("playlist-list__caret-container"),o.classList.add("track-wrapper"),s.classList.add("remove-playlist"),l&&r.classList.add("playlist-list__playlist--hide"),r.setAttribute("data-playlist-id",t),q.currentChosenPlaylist.name=e,q.currentChosenPlaylist.id=t,n.appendChild(r),r.appendChild(a),a.appendChild(i),r.appendChild(o),r.appendChild(s),function(){let e=document.getElementsByClassName("playlist-list__playlist"),t=["#E8A5A5","#783E3E","#BF4949","#D15273"];for(let n=0;n<e.length;n++)e[n].style.backgroundColor=t[n%t.length]}();const c={name:e,id:t};q.totalPlaylists.push(c),j()}async function _(e){e.preventDefault();const t=document.querySelector(".im-pl__name"),n=document.querySelector(".im-pl__error"),r=document.querySelector(".tab-content-container");let o=t.value;r.classList.remove("tab-content--error"),t.value="",n&&n.remove();try{const e=(await g()).data,t=o.toLowerCase();let n;if(e.items.forEach(e=>{t==e.name.toLowerCase()&&(n=e.id,o=e.name)}),!n)return void v(`Sorry, there's no playlist matching this name "${o}" out of your Spotify playlists!`);if(-1!==h(o))return void v(`A playlist with the name "${o}" has already been imported.`);y(o,n),P(),(await c(n)).data.items.forEach(e=>{R(e,o)}),O(o,"import")}catch(e){console.log(e)}}function v(e){let t=document.createElement("span"),n=document.querySelector(".tab-content-container"),r=document.querySelector(".im-pl__name");n.classList.add("tab-content--error"),t.classList.add("im-pl__error"),t.textContent=e,r.parentNode.insertBefore(t,r.nextElementSibling)}var C=()=>s.get("/me");var b=e=>s.post(`/users/${l}/playlists`,e);var E=e=>s.get(e);var L=(e,t)=>s.delete(`playlists/${e}/tracks`,{data:JSON.stringify({tracks:[{uri:t}]})});const w=["acoustic","afrobeat","alt-rock","alternative","ambient","anime","black-metal","bluegrass","blues","bossanova","brazil","breakbeat","british","cantopop","chicago-house","children","chill","classical","club","comedy","country","dance","dancehall","death-metal","deep-house","detroit-techno","disco","disney","drum-and-bass","dub","dubstep","edm","electro","electronic","emo","folk","forro","french","funk","garage","german","gospel","goth","grindcore","groove","grunge","guitar","happy","hard-rock","hardcore","hardstyle","heavy-metal","hip-hop","holidays","honky-tonk","house","idm","indian","indie","indie-pop","industrial","iranian","j-dance","j-idol","j-pop","j-rock","jazz","k-pop","kids","latin","latino","malay","mandopop","metal","metal-misc","metalcore","minimal-techno","movies","mpb","new-age","new-release","opera","pagode","party","philippines-opm","piano","pop","pop-film","post-dubstep","power-pop","progressive-house","psych-rock","punk","punk-rock","r-n-b","rainy-day","reggae","reggaeton","road-trip","rock","rock-n-roll","rockabilly","romance","sad","salsa","samba","sertanejo","show-tunes","singer-songwriter","ska","sleep","songwriter","soul","soundtracks","spanish","study","summer","swedish","synth-pop","tango","techno","trance","trip-hop","turkish","work-out","world-music"];let k="";function S(e,t,n){k=`recommendations?max_valence=${e}&min_valence=${t}&limit=30`;const{minEnergy:r,maxEnergy:o}=n[0];return r&&(k+=`&min_energy=${n[0].minEnergy}`),o&&(k+=`&max_energy=${n[0].maxEnergy}`),function(e){let t="";if(e.length>0)e.forEach((e,n)=>{t+=0===n?`&seed_genres=${e}`:`,${e}`});else for(let e=0;e<5;e++){const e=Math.floor(Math.random()*Math.floor(w.length));""===t?t=`&seed_genres=${w[e]}`:t+=`,${w[e]}`}k+=t}(function(){const e=Array.from(document.querySelectorAll(".genres-toggle")),t=[],n=document.querySelector(".genres-show");n&&n.classList.remove("genres-show");return e.forEach(e=>{e.classList.remove("genres-toggle"),t.push(function(e){const t=/&/g;let n=e.toLowerCase();"r & b"!==e&&"rock & roll"!==e||(n=e.replace(t,"n"));"drum & bass"===e&&(n=e.replace(t,"and"));return n}(e.textContent))}),t}()),k}var x=function(){const e=document.querySelector(".logo-container");let t;if("fixed"==window.getComputedStyle(e,null).getPropertyValue("position")){const n=Array.from(document.querySelectorAll(".close-modal-btn"));e.classList.toggle("show__elem"),t=!0,n.length>0&&n.forEach(e=>{e.remove()})}else t=!1;return t};n.d(t,"myModule",(function(){return q})),n.d(t,"closeModal",(function(){return P})),n.d(t,"updatePlaylistCount",(function(){return j})),n.d(t,"getChildElementByClass",(function(){return M})),n.d(t,"confirmAction",(function(){return O})),n.d(t,"createPlaylistTrackBody",(function(){return R})),n.d(t,"refreshPlaylistBody",(function(){return $}));let q=function(){let e={closureURL:"",currentTracks:[],totalPlaylists:[],songQueue:[],currentChosenPlaylist:{},sortedChosenGenres:[],deleteThis:"",playlistNameValue:"",optionsHelper:"",deleteMe:"",grandparentOfTarget:""};return e.initColor=function(){let e=0,t=["#FFB63F","#FEC4CF","#6C95CC","#CC3B6C","#89BCE5","#FED4CA","#DEDCED"];return function(){return++e===t.length&&(e=0),t[e]}}(),e.scrollPositionTracker=[],e.isMobile=x(),e.initScroll={happened:!1,moment:""},e.wasSubmitted=!1,e.startTime=void 0,e.storeMoodValue="",e.smoothingSupported="scrollBehavior"in document.documentElement.style,e.mobileIsScrolling=void 0,e.inRange=!1,e.scrollCount=0,e}();let A=function(){let e={};return e.moveSongModal=document.querySelector(".tran-modal__mv-song"),e.deleteSongModal=document.querySelector(".tran-modal__del-song"),e.removePlaylistModal=document.querySelector(".tran-modal__rm-playlist"),e.moodForm=document.querySelector(".mood__form"),e.closeModalBtn=document.querySelectorAll(".close-modal-btn"),e.declineModalBtn=document.querySelectorAll(".btn--decline"),e.playlistFooter=document.querySelector(".playlist"),e.genres=document.querySelector(".genres"),e.genresFilterSearch=document.querySelector(".genres-filter__search"),e.createPlaylistSubmit=document.querySelector(".cr-pl__submit"),e.importPlaylistSubmit=document.querySelector(".im-pl__submit"),e.moodDiv=document.querySelector(".mood"),e.logoContainer=document.querySelector(".logo-container"),e}();function P(){let e=document.querySelector(".tran-modal__show-modal"),t=document.querySelector(".tran-modal__show-form"),n=document.querySelector(".mvs-select"),r=document.querySelector(".modal--show"),o=document.querySelector(".song-action"),a=document.querySelector(".im-pl__error"),s=document.querySelector(".tab-content--error"),l=document.querySelector(".genres-active-animation"),i=document.querySelector(".genres-show");l&&(l.classList.remove("genres-active-animation"),i.classList.remove("genres-show")),o&&D(o),e&&(e.classList.remove("tran-modal__show-modal"),t&&t.classList.toggle("tran-modal__show-form")),n&&D(n),r&&r.classList.toggle("modal--show"),a&&(s.classList.remove("tab-content--error"),D(a))}function T(e){let t=e.parentElement.parentElement.parentElement,n=t.childNodes[0].src,r=t.childNodes[1].childNodes[1].childNodes[0].textContent,o=t.childNodes[1].childNodes[1].childNodes[1].textContent;q.deleteThis=t.getAttribute("data-spotify-track");let a={songAction:document.createElement("div"),songActionInfo:document.createElement("div"),songActionImg:document.createElement("img"),songActionName:document.createElement("h5"),songActionArtist:document.createElement("h6")};return a.songAction.classList.add("song-action"),a.songActionInfo.classList.add("song-action__song-info"),a.songActionImg.classList.add("song-action__img"),a.songActionName.classList.add("song-action__song-name"),a.songActionArtist.classList.add("song-action__song-artist"),a.songActionImg.setAttribute("src",n),a.songActionName.textContent=r,a.songActionArtist.textContent=o,a.songAction.appendChild(a.songActionImg),a.songAction.appendChild(a.songActionInfo),a.songActionInfo.appendChild(a.songActionName),a.songActionInfo.appendChild(a.songActionArtist),a}function N(e){e.forEach(e=>{if(q.currentTracks.length>0)for(let t=0;t<q.currentTracks.length;t++)if(e.album.name===q.currentTracks[t].album_name)return;if(e.preview_url&&e.album.images[1]&&e.uri){let t={album_name:e.album.name,album_img:e.album.images[1],artist:e.artists[0].name,preview_url:e.preview_url,song_title:e.name,trackID:e.id,uri:e.uri};u(t),q.currentTracks.push(t)}})}function B(e){let t;for(let n in q.totalPlaylists)e===q.totalPlaylists[n].name&&(t=q.totalPlaylists[n].id);return t}function j(){document.querySelector(".playlist-amount").textContent=q.totalPlaylists.length}function M(e,t){if(e.classList.contains(t))return e;{let n=e.childNodes;for(let e=0;e<n.length;e++)if(n[e].classList.contains(t))return n[e]}}function O(e,t){let n=document.createElement("div"),r=document.createElement("h1");n.innerHTML='<svg class="confirm-action-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="confirm-action-checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="confirm-actioncheckmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>',n.classList.add("confirm-action"),n.classList.add("confirm-action--fade"),r.classList.add("confirm-action__info"),"song"===t&&(r.textContent=`Added to "${e}"`),"create"===t&&(r.textContent=`Created "${e}"`),"import"===t&&(r.textContent=`Imported "${e}"`),document.body.appendChild(n),n.appendChild(r),setTimeout((function(){D(n)}),2e3)}function R(e,t){const n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("img"),a=document.createElement("audio"),s={h1:document.createElement("h1"),h2:document.createElement("h2"),h4:document.createElement("h4")},l=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),d=document.createElement("a"),u=document.createElement("div"),m=document.createElement("a"),p=document.createElement("a"),g=document.createElement("a");let h,y=document.querySelectorAll(".playlist-list__playlist"),_={album_name:e.track.album.name,album_img:e.track.album.images[1],artist:e.track.artists[0].name,preview_url:e.track.preview_url,song_title:e.track.name,trackID:e.track.id,uri:e.track.uri};null!==_.preview_url&&(a.src=_.preview_url),y.forEach(e=>{t?e.childNodes[0].textContent===t&&(h=M(e,"track-wrapper")):e.childNodes[0].textContent===q.currentChosenPlaylist.name&&(h=M(e,"track-wrapper"))}),void 0===h&&(h=M(y[0],"track-wrapper")),a.classList.add("playlist-track__link"),n.classList.add("playlist-track"),o.classList.add("playlist-track__img"),u.classList.add("playlist-track__song-info-container"),s.h1.classList.add("playlist-track__name"),s.h2.classList.add("playlist-track__arist"),s.h4.classList.add("playlist-track__album"),l.classList.add("playlist-track__body-container"),d.classList.add("playlist-track__play-btn"),i.classList.add("options"),c.classList.add("options-dropdown"),m.classList.add("options-dropdown__link","go-to-link"),p.classList.add("options-dropdown__link","move-song"),g.classList.add("options-dropdown__link","delete-modal-trigger");var v;m.setAttribute("href",`https://open.spotify.com/track/${v=_.uri,v.replace(/\w+:/g,"")}`),m.setAttribute("target","_blank"),a.setAttribute("href",_.preview_url),d.setAttribute("href",_.preview_url),n.setAttribute("data-spotify-track",_.uri),o.src=_.album_img.url,s.h1.textContent=_.song_title,s.h2.textContent=_.artist,m.textContent="Go to song link",p.textContent="Move song to another playlist",g.textContent="Delete track",i.textContent="…",a.src&&(r.classList.add("playlist-track__media"),r.innerHTML='<svg class="media-controls" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><g fill="none" fill-rule="evenodd"><path class="media-controls__pause inactive-dash-pause" stroke="#3F3E3E" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M48,25 L48,71.8053097 C45.1666667,73.6017699 42.3333333,74.5 39.5,74.5 C36.6666667,74.5 33.8333333,73.6017699 31,71.8053097"/><path class="media-controls__play inactive-dash" stroke-linecap="round" stroke="#3F3E3E" stroke-width="5" d="M72.0763886,68.3352333 L62.1474475,68.3352333 L27.2723011,68.3352333 C25.0631621,68.3352333 23.2723011,66.5443723 23.2723011,64.3352333 C23.2723011,63.4859068 23.542644,62.6586256 24.0441798,61.9731933 L46.4462236,31.3570669 C47.7507422,29.5742247 50.2535427,29.1864669 52.0363849,30.4909855 C52.3678287,30.7335054 52.6599463,31.025623 52.9024662,31.3570669 L75.3045099,61.9731933 C76.6090286,63.7560355 76.2212708,66.258836 74.4384286,67.5633546 C73.7529963,68.0648904 72.9257152,68.3352333 72.0763886,68.3352333 L68.7548694,68.3352333" transform="rotate(90 49.674 49.027)"/></g></svg>');let C=document.createElement("div");C.classList.add("playlist-track__progress-bar"),C.style.backgroundColor=document.body.style.backgroundColor;const b=document.createElement("div"),E=document.createElement("input");let L=document.createElement("i");L.classList.add("track__volume-icon"),L.className="fas fa-volume-up",b.appendChild(L),E.setAttribute("type","range"),E.setAttribute("min","1"),E.setAttribute("max","100"),E.setAttribute("value","60"),b.classList.add("playlist-track__volume-container"),E.classList.add("playlist-track__volume-slider"),h.appendChild(n),n.appendChild(o),o.appendChild(a),n.appendChild(l),l.appendChild(u),u.appendChild(s.h1),u.appendChild(s.h2),n.appendChild(r),n.appendChild(i),b.appendChild(E),l.insertAdjacentElement("afterbegin",C),l.insertAdjacentElement("beforeend",b),i.appendChild(c),c.appendChild(m),c.appendChild(p),c.appendChild(g),o.addEventListener("click",e=>{Array.from(e.target.parentElement.children).forEach(e=>{if("playlist-track__media"===e.className){let t=e.firstChild,n=t.firstChild.firstChild,r=t.firstChild.lastChild;r.classList.remove("inactive-dash"),n.classList.remove("inactive-dash-pause"),r.classList.toggle("play-ani"),n.classList.toggle("pause-ani")}}),e.target.firstElementChild.paused?e.target.firstElementChild.play():e.target.firstElementChild.pause()}),r.addEventListener("click",e=>{let t=e.target.firstChild,n=t.firstChild,r=t.lastChild;r.classList.remove("inactive-dash"),n.classList.remove("inactive-dash-pause"),r.classList.toggle("play-ani"),n.classList.toggle("pause-ani"),Array.from(e.target.parentElement.parentElement.children).forEach(e=>{if("playlist-track__img"===e.className){let t=e.firstChild;t.paused?t.play():t.pause()}})}),a.addEventListener("playing",e=>{let t=e.target,n=t.duration,r=M(t.parentElement.parentElement,"playlist-track__body-container"),o=M(r,"playlist-track__progress-bar");f(n,a,o)})}function F(e){let t=e.value,n=e.parentElement.parentElement.parentElement.firstChild;t/=100,(M(n,"playlist-track__link")||M(n,"track__link")).volume=t}function $(e){let t;Array.from(document.getElementsByClassName("track-wrapper")).forEach(n=>{n.parentElement.childNodes[0].textContent===e&&(t=n)});for(let e=t.children.length;e--;)t.children[e].remove()}function D(e){e.parentNode.removeChild(e)}function U(){let e=document.createElement("h1");e.textContent=`Sorry can't find any songs matching the mood "${q.storeMoodValue}"!`,e.classList.add("no-result"),document.body.appendChild(e)}x(),document.addEventListener("scroll",(function(){const e=document.querySelector(".tracks");let t=window.pageYOffset,n=window.innerHeight,r=document.body.offsetHeight;if(q.isMobile){let n=document.querySelector(".logo");clearTimeout(q.mobileIsScrolling),q.mobileIsScrolling=setTimeout((function(){n.classList.remove("logo--size")}),200),t>e.getBoundingClientRect().top&&n.classList.add("logo--size"),e.getBoundingClientRect().top>0&&n.classList.remove("logo--size")}for(let e=0;e<q.scrollPositionTracker.length;e++){if(q.scrollPositionTracker[e].scrollPosition>t-500&&q.scrollPositionTracker[e].scrollPosition<t+500){let t=Array.from(document.querySelectorAll(".track__progress-bar")),n=Array.from(document.querySelectorAll(".playlist-track__progress-bar"));t.forEach(t=>{t.style.backgroundColor=q.scrollPositionTracker[e].color}),n.forEach(t=>{t.style.backgroundColor=q.scrollPositionTracker[e].color}),document.body.style.backgroundColor=q.scrollPositionTracker[e].color}if(t<q.initScroll.moment){let e=Array.from(document.querySelectorAll(".track__progress-bar")),t=Array.from(document.querySelectorAll(".playlist-track__progress-bar"));e.forEach(e=>{e.style.backgroundColor="#E47A67"}),t.forEach(e=>{e.style.backgroundColor="#E47A67"}),document.body.style.backgroundColor="#E47A67"}}e.childNodes.length>0&&t+n>=r-.05*r&&(q.scrollCount++,1===q.scrollCount&&(q.wasSubmitted=!1,E(k).then(e=>{const{tracks:n}=e.data;N(n),!1===q.initScroll.happened&&(q.initScroll.happened=!0,q.initScroll.moment=t);let r=Array.from(document.querySelectorAll(".track__progress-bar")),o=q.initColor(),a={color:o,scrollPosition:t};q.scrollPositionTracker.push(a),r.forEach(e=>{e.style.backgroundColor=o}),document.body.style.backgroundColor=o})))})),A.genres.addEventListener("click",e=>{if(e.stopPropagation(),e.target.classList.contains("genres-drop__header")){let e=document.querySelector(".fa-caret-right"),t=document.querySelector(".genres"),n=document.querySelector(".genres-filter__toggle"),r=n.parentElement.parentElement,o=n.parentElement;if(1==q.isMobile){let e=document.querySelector(".close-modal-btn--g");e&&D(e),t.classList.toggle("genres-mb"),o.classList.toggle("tran-modal--genre-mb"),document.querySelector(".genres-drop__header").classList.toggle("genres-drop__header-mb")}e.classList.remove("no-animation"),e.classList.toggle("genres-active-animation"),n.classList.toggle("genres-show"),r.classList.toggle("tran-modal__show-modal")}if("genres-filter-tab__clear"===e.target.className){let e=document.querySelector(".genres-filter-tab__list"),t=Array.from(document.querySelectorAll(".genres-toggle")),n=document.querySelector(".genres-search-filter-genre");for(t.forEach(e=>{e.classList.remove("genres-toggle")});e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)n.removeChild(n.firstChild)}if(e.target.classList.contains("genres-list__item")){let t=document.querySelectorAll(".genres-toggle").length,n=document.querySelector(".genres-filter-tab__list"),r=document.querySelectorAll(".genres-filter-tab__tag"),o=document.querySelectorAll(".genres-search-filter-genre__tag");if(t>4)r.forEach(t=>{e.target.textContent===t.textContent&&t.remove()}),o.forEach(t=>{e.target.textContent===t.textContent&&t.remove()}),e.target.classList.remove("genres-toggle");else if(e.target.classList.contains("genres-toggle"))r.forEach(t=>{e.target.textContent===t.textContent&&t.remove()}),o.forEach(t=>{e.target.textContent===t.textContent&&t.remove()}),e.target.classList.remove("genres-toggle");else{e.target.classList.toggle("genres-toggle");let t=document.querySelector(".genres-search-filter-genre");q.sortedChosenGenres.push(e.target.textContent);let r=document.createElement("li"),o=document.createElement("span"),a=document.createElement("i"),s=document.createElement("i");o.textContent=e.target.textContent,r.textContent=e.target.textContent,o.classList.add("genres-search-filter-genre__tag"),r.classList.add("genres-filter-tab__tag"),a.className="fas fa-times genres-filter-tab__x",s.className="fas fa-times genres-search-filter-genre__x",n.appendChild(r),r.appendChild(a),o.appendChild(s),!0!==q.isMobile&&t.appendChild(o)}}if("genres-filter-tab__tag"===e.target.className){let t=Array.from(document.querySelectorAll(".genres-toggle")),n=document.querySelectorAll(".genres-search-filter-genre__tag");t.forEach(t=>{e.target.textContent===t.textContent&&t.classList.remove("genres-toggle")}),n.forEach(t=>{e.target.textContent===t.textContent&&t.remove()}),e.target.classList.remove("genres-filter-tab__tag"),e.target.remove()}if("genres-search-filter-genre__tag"===e.target.className){let t=Array.from(document.querySelectorAll(".genres-toggle")),n=document.querySelectorAll(".genres-filter-tab__tag");t.forEach(t=>{e.target.textContent===t.textContent&&t.classList.remove("genres-toggle")}),n.forEach(t=>{e.target.textContent===t.textContent&&t.remove()}),e.target.classList.remove("genres-search-filter-genre__tag"),e.target.remove()}}),A.genresFilterSearch.addEventListener("keyup",()=>{let e=document.getElementsByClassName("genres-list__item"),t=document.querySelector(".genres-filter__search").value.toUpperCase();for(let n=0;n<e.length;n++){let r=e[n];r.textContent.toUpperCase().indexOf(t)>-1?r.style.display="":r.style.display="none"}}),A.logoContainer.addEventListener("click",()=>{q.smoothingSupported?function(e){window.scrollTo({top:500,left:0,behavior:"smooth"}),window.scrollBy({top:100,left:0,behavior:"smooth"}),document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}(".mood"):requestAnimationFrame((function(e){q.startTime=e||(new Date).getTime(),function e(t,n,r){let o=t||(new Date).getTime(),a=o-q.startTime,s=a/r;s=Math.min(s,1),window.scrollTo(0,(n*s).toFixed(2)),a<r&&requestAnimationFrame((function(t){e(t,n,r)}))}(e,0,500)}))}),A.createPlaylistSubmit.addEventListener("submit",e=>{e.preventDefault();const t={description:document.querySelector(".cr-pl__description").value,public:!0,name:document.querySelector(".cr-pl__name").value};b(t).then(e=>{const t=e.data,n=document.querySelector(".cr-pl__name"),r=document.querySelector(".cr-pl__description");if(function(e,t){if(!t)return;let n,r={name:e,id:t};-1===h(e)?(q.totalPlaylists.push(r),j(),n=!1):n=!0}(t.name,t.id),y(t.name,t.id),n.value="",r.value="",q.songQueue.length>0){const e={uris:q.songQueue};i(t.id,e).then(()=>{m(q.currentChosenPlaylist.name,t.id)}).catch(e=>{console.log(e)})}O(t.name,"create"),P()}).catch(e=>{console.log(e)})}),A.importPlaylistSubmit.addEventListener("submit",_),A.moveSongModal.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(".mvs-select"),n=document.querySelector(".tran-modal__mv-song"),r=document.querySelector(".song-action"),o=document.querySelector(".tran-modal");D(t),D(r);let a,s=[q.deleteThis];q.playlistNameValue=t.value,a=B(q.playlistNameValue),o.classList.toggle("tran-modal__show-modal"),n.classList.toggle("tran-modal__show-form"),L(q.currentChosenPlaylist.id,q.deleteThis).then(()=>c(q.currentChosenPlaylist.id)).then(e=>{const t=e.data;$(q.currentChosenPlaylist.name),t.items.forEach(e=>{R(e)})}).then(()=>{!function(e,t,n){let r={uris:t};const o={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+q.accessToken},body:JSON.stringify(r)};fetch(e,o).then(e=>e.json()).then(()=>c(n)).then(e=>{const t=e.data;$(q.playlistNameValue),t.items.forEach(e=>{R(e,q.playlistNameValue)})}).catch(e=>{console.log(e)})}(`https://api.spotify.com/v1/users/${l}/playlists/${a}/tracks`,s,a)}).catch(e=>{console.log(e)})}),A.deleteSongModal.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(".tran-modal__del-song"),n=document.querySelector(".song-action"),r=document.querySelector(".tran-modal");D(n),t.classList.toggle("tran-modal__show-form"),r.classList.toggle("tran-modal__show-modal"),L(q.currentChosenPlaylist.id,q.deleteThis).then(()=>c(q.currentChosenPlaylist.id)).then(e=>{const t=e.data;$(q.currentChosenPlaylist.name),t.items.forEach(e=>{R(e)})}).catch(e=>{console.log(e)})}),A.removePlaylistModal.addEventListener("submit",e=>{e.preventDefault(),e.stopPropagation();let t=document.querySelector(".tran-modal"),n=document.querySelector(".tran-modal__rm-playlist");document.querySelectorAll(".playlist-list__playlist--hide").forEach(e=>{e.classList.remove("playlist-list__playlist--hide")}),t.classList.toggle("tran-modal__show-modal"),n.classList.toggle("tran-modal__show-form"),q.grandparentOfTarget.childNodes.forEach(e=>{e===q.deleteMe&&q.grandparentOfTarget.removeChild(e)}),function(e){let t=function(e){for(let t in q.totalPlaylists)if(q.totalPlaylists[t].id===e)return q.totalPlaylists.indexOf(q.totalPlaylists[t])}(B(e));q.totalPlaylists.splice(t,1),j()}(q.deleteMe.childNodes[0].textContent)}),A.moodForm.addEventListener("submit",e=>{e.preventDefault();const t=document.querySelector(".mood__val").value,n=document.querySelector(".playlist");q.storeMoodValue=t,q.currentTracks=[],q.wasSubmitted=!0,function(){const e=document.querySelector(".tracks"),t=document.querySelector(".genres-filter-tab__list"),n=document.querySelector(".genres-search-filter-genre"),r=document.querySelector(".no-result");for(;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)t.removeChild(t.firstChild);r&&D(r)}(),o.a.get(`/user/mood/${t}`).then(e=>{const t=e.data,r=Math.max(...t[0].idNumbers),o=Math.min(...t[0].idNumbers);return n.classList.add("playlist__show"),E(S(r,o,t))}).then(e=>{const{tracks:t}=e.data;0!==t.length?N(t):U()}).catch(()=>{U()})}),A.closeModalBtn.forEach(e=>{e.addEventListener("click",P)}),A.declineModalBtn.forEach(e=>{e.addEventListener("click",P)}),A.playlistFooter.addEventListener("click",e=>{const t=document.querySelector(".playlist"),n=document.querySelector(".playlist-create"),r=document.getElementById("im-pl-tab"),o=document.getElementById("cr-pl-tab");let a,s=document.querySelector(".tran-modal"),l=document.querySelector(".modal");if("playlist-bar"===e.target.className&&(t.classList.toggle("extended-playlist"),q.isMobile)&&document.querySelector(".logo-container").classList.toggle("show__elem"),t.classList.contains("extended-playlist")&&(n.textContent="Create New Playlist +"),t.classList.contains("extended-playlist")||(n.innerHTML='<span class="playlist-create__sign">+</span>'),"playlist-import"===e.target.className&&(r.checked=!0,l.classList.toggle("modal--show")),"playlist-create"===e.target.className&&(o.checked=!0,l.classList.toggle("modal--show")),"playlist-create__sign"===e.target.className&&(o.checked=!0,l.classList.toggle("modal--show")),e.target.classList.contains("playlist-list__playlist")){let t=M(e.target.firstChild.childNodes[1],"fa-chevron-right"),n=document.querySelectorAll(".playlist-list__playlist--hide");t.classList.remove("no-animation"),t.classList.toggle("playlist-active-animation"),a=e.target.childNodes[0].textContent||"",q.currentChosenPlaylist.name=a,n.forEach(e=>{e.children[0].firstElementChild.firstChild.classList.add("no-animation")});for(let e in q.totalPlaylists)a===q.totalPlaylists[e].name&&(q.currentChosenPlaylist.id=q.totalPlaylists[e].id)}if("remove-playlist"===e.target.className){let t=document.querySelector(".rm-playlist"),n=document.querySelector(".tran-modal__rm-playlist");s.classList.toggle("tran-modal__show-modal"),n.classList.toggle("tran-modal__show-form"),t.textContent=`"${e.target.parentElement.childNodes[0].textContent}"?`,q.grandparentOfTarget=e.target.parentElement.parentElement,q.deleteMe=e.target.parentElement}if(e.target.classList.contains("delete-modal-trigger")){e.stopPropagation();let t=document.querySelector(".tran-modal__del-song"),n=document.querySelector(".tran-modal__del-verify-head"),r=T(e.target);s.classList.toggle("tran-modal__show-modal"),t.classList.toggle("tran-modal__show-form"),n.parentNode.insertBefore(r.songAction,n.nextElementSibling)}if(e.target.classList.contains("move-song")){let t=document.querySelector(".tran-modal__mv-song"),n=document.createElement("select"),r=document.createElement("option"),o=document.querySelector(".tran-modal__mv-verify-head"),a=T(e.target);for(let e=0;e<q.totalPlaylists.length;e++)q.currentChosenPlaylist.name!==q.totalPlaylists[e].name&&((r=document.createElement("option")).setAttribute("value",q.totalPlaylists[e].name),r.setAttribute("data-playlistId",q.totalPlaylists[e].id),r.textContent=q.totalPlaylists[e].name,n.appendChild(r));n.classList.add("mvs-select"),o.parentNode.insertBefore(n,o.nextElementSibling),o.parentNode.insertBefore(a.songAction,o.nextElementSibling),s.classList.toggle("tran-modal__show-modal"),t.classList.toggle("tran-modal__show-form")}if("options"===e.target.className){let t=document.querySelector(".show__elem");t&&t.classList.toggle("show__elem"),q.optionsHelper=e.target,e.target.firstElementChild.classList.toggle("show__elem")}e.target.classList.contains("playlist-list__playlist")&&(document.querySelectorAll(".playlist-list__playlist").forEach(t=>{e.target!==t&&t.classList.toggle("playlist-list__playlist--hide")}),e.target.firstElementChild.nextElementSibling.classList.toggle("track-wrapper--show"),e.target.classList.toggle("playlist-list__playlist--show"))}),document.querySelector(".genres-filter__search").addEventListener("input",e=>{if(""===e.target.value){let e=document.getElementsByClassName("genres-list__item"),t=document.querySelector(".genres-filter__search").value.toUpperCase();for(let n=0;n<e.length;n++){let r=e[n];r.textContent.toUpperCase().indexOf(t)>-1?r.style.display="":r.style.display="none"}}}),document.querySelector(".tran-modal--genre").addEventListener("click",e=>{e.target===document.querySelector(".tran-modal--genre")&&P()}),window.addEventListener("mouseup",e=>{e.target.classList.contains("playlist-track__volume-slider")&&F(e.target),e.target.classList.contains("track__volume-slider")&&F(e.target)}),window.addEventListener("input",e=>{e.target.classList.contains("playlist-track__volume-slider")&&F(e.target),e.target.classList.contains("track__volume-slider")&&F(e.target)}),window.addEventListener("click",e=>{let t=document.querySelector(".tran-modal"),n=document.querySelector(".modal"),r=document.querySelector(".genres-show"),o=document.querySelector(".tran-modal--genre");if(p(e.target),e.target==n){let e=document.querySelector(".tab-content-container"),t=document.querySelector(".im-pl__error");n.classList.toggle("modal--show"),e.classList.remove("tab-content--error"),t&&D(t)}if(e.target===t&&P(),e.target===o&&P(),e.target.classList.contains("tran-modal--genre")&&P(),e.target!==q.optionsHelper){let e=document.getElementsByClassName("options-dropdown");for(let t=0;t<e.length;t++)e[t].classList.remove("show__elem")}if(e.target!==r){let e=document.querySelector(".genres-active-animation");e&&(e.classList.remove("genres-active-animation"),r.classList.remove("genres-show"))}}),C().then(e=>{if(401===e.status)return void(window.location.href="/login");const{display_name:t,id:n}=e.data,r=document.querySelector(".username");r.textContent=t||n,function(e){l=e}(n)}).catch(()=>{const e=document.querySelector(".content-wrapper"),t=document.createElement("a");for(;e.firstChild;)e.removeChild(e.firstChild);t.setAttribute("href","/login.html"),t.textContent="login here!",document.body.appendChild(t)})}]);